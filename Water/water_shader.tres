[gd_resource type="VisualShader" load_steps=69 format=3 uid="uid://xl06ox4uk3yv"]

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_qrj5e"]
constant = 1.0

[sub_resource type="VisualShaderNodeFresnel" id="VisualShaderNodeFresnel_qrj5e"]
default_input_values = [2, true, 3, 1.0]
linked_parent_graph_frame = 123

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_6rjy6"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
linked_parent_graph_frame = 123
op_type = 0

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_sw7p3"]
linked_parent_graph_frame = 123
function = 18

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_xhoq2"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0.5, 0.5)]
linked_parent_graph_frame = 123
op_type = 0
operator = 1

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_0w0sp"]
linked_parent_graph_frame = 123
operator = 2

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_4rtul"]
linked_parent_graph_frame = 33
size = Vector2(1364.0001, 753.0001)
title = "Distortion / Transparency"
attached_nodes = PackedInt32Array(82, 122, 81, 120, 110, 121, 111, 141, 142)

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_dc7q3"]
linked_parent_graph_frame = 33
size = Vector2(624, 538)
title = "Color"
attached_nodes = PackedInt32Array(54, 52, 53)

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_houh8"]
linked_parent_graph_frame = 136
parameter_name = "foam"

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_8r7lp"]
linked_parent_graph_frame = 136
source = 5

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_a8d3b"]
linked_parent_graph_frame = 136
input_name = "uv"

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_6ioh0"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(1, 1, 1), 2, Vector3(0.5, 0.5, 0.5)]
linked_parent_graph_frame = 33
op_type = 3

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_e0gxv"]
linked_parent_graph_frame = 136
function = 31

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_qrj5e"]
default_input_values = [0, 0.0, 1, 8.0]
linked_parent_graph_frame = 136
operator = 2

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_6rjy6"]
linked_parent_graph_frame = 136
function = 18

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_sw7p3"]
default_input_values = [0, 0.0, 1, 0.5]
linked_parent_graph_frame = 136
operator = 2

[sub_resource type="VisualShaderNodeFresnel" id="VisualShaderNodeFresnel_xhoq2"]
linked_parent_graph_frame = 136

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_houh8"]
linked_parent_graph_frame = 33
size = Vector2(1824.0001, 868.0001)
title = "Foam"
attached_nodes = PackedInt32Array(127, 125, 133, 132, 135, 130, 134, 126, 138, 137, 144, 143)

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_8r7lp"]
linked_parent_graph_frame = 136
function = 1

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_6ioh0"]
linked_parent_graph_frame = 136
parameter_name = "foam_scale"
hint = 1
max = 4.0
default_value_enabled = true
default_value = 1.5

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_e0gxv"]
linked_parent_graph_frame = 77
parameter_name = "blend"
hint = 1
default_value_enabled = true
default_value = 0.3

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_cbafe"]
linked_parent_graph_frame = 123
operator = 2

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_otd83"]
linked_parent_graph_frame = 123
parameter_name = "refraction"
hint = 1
default_value_enabled = true
default_value = 0.2

[sub_resource type="VisualShaderNodeVectorDecompose" id="VisualShaderNodeVectorDecompose_t1out"]
default_input_values = [0, Quaternion(0, 0, 0, 0)]
linked_parent_graph_frame = 136
op_type = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_v1yl0"]
default_input_values = [0, 0.0, 1, 2.0]
linked_parent_graph_frame = 136
operator = 2

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_0w0sp"]
linked_parent_graph_frame = 30
source = 5

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_dc7q3"]
linked_parent_graph_frame = 30
input_name = "uv"

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_8r7lp"]
linked_parent_graph_frame = 30
parameter_name = "water_A_normal"

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_a8d3b"]
linked_parent_graph_frame = 30
parameter_name = "water_AB_fade"
hint = 1
default_value_enabled = true
default_value = 0.4

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_cbafe"]
linked_parent_graph_frame = 30
parameter_name = "normal_strength"
hint = 1
default_value_enabled = true
default_value = 0.5

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_otd83"]
size = Vector2(1664, 1045.001)
title = "Normals"
attached_nodes = PackedInt32Array(33, 6, 20, 16, 5, 28, 47, 59, 60, 18, 7, 21)

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_74g4y"]
size = Vector2(3284, 1854.0002)
title = "Albedo"
attached_nodes = PackedInt32Array(85, 90, 123, 124, 136, 129)

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_flajv"]
linked_parent_graph_frame = 48
parameter_name = "depth_sharpness"
hint = 1
default_value_enabled = true
default_value = 0.1

[sub_resource type="VisualShaderNodeExpression" id="VisualShaderNodeExpression_l122e"]
linked_parent_graph_frame = 48
size = Vector2(720, 340)
expression = "float d = texture(depth_texture, SCREEN_UV).r;
d = PROJECTION_MATRIX[3][2] / (d + PROJECTION_MATRIX[2][2]);
d = d + VERTEX.z;
depth = d * power + offset;"

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_lxyh5"]
linked_parent_graph_frame = 48
function = 18

[sub_resource type="VisualShaderNodeGlobalExpression" id="VisualShaderNodeGlobalExpression_nmsma"]
linked_parent_graph_frame = 48
size = Vector2(720, 100)
expression = "uniform sampler2D depth_texture : hint_depth_texture, repeat_disable, filter_nearest;"

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_14ohn"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(1, 1, 1, 1), 2, Quaternion(0.5, 0.5, 0.5, 0.5)]
linked_parent_graph_frame = 30
op_type = 5

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_4tpem"]
size = Vector2(1304.0002, 713.0001)
title = "Depth"
attached_nodes = PackedInt32Array(43, 42, 44, 45, 80, 92, 93)

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_4rtul"]
linked_parent_graph_frame = 30
source = 5

[sub_resource type="VisualShaderNodeColorParameter" id="VisualShaderNodeColorParameter_nxns6"]
linked_parent_graph_frame = 124
parameter_name = "color_deep"
default_value_enabled = true
default_value = Color(0.2627451, 0.32156864, 0.4117647, 1)

[sub_resource type="VisualShaderNodeColorParameter" id="VisualShaderNodeColorParameter_pkdrg"]
linked_parent_graph_frame = 124
parameter_name = "color_shallow"
default_value_enabled = true
default_value = Color(0.6392157, 0.7176471, 0.76862746, 1)

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_newio"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(1, 1, 1, 1), 2, Quaternion(0.5, 0.5, 0.5, 0.5)]
linked_parent_graph_frame = 124
op_type = 5

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_ge0wp"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(1, 1, 1, 1), 2, Quaternion(0.5, 0.5, 0.5, 0.5)]
linked_parent_graph_frame = 30
op_type = 5

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_dc7q3"]
linked_parent_graph_frame = 30
parameter_name = "water_B_normal"

[sub_resource type="VisualShaderNodeColorConstant" id="VisualShaderNodeColorConstant_6ee50"]
linked_parent_graph_frame = 30
constant = Color(0.5019608, 0.5019608, 1, 1)

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_5vpu5"]
parameter_name = "roughness"
hint = 1
default_value_enabled = true
default_value = 0.2

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_gxx5n"]
linked_parent_graph_frame = 77
parameter_name = "opacity"
hint = 1
default_value_enabled = true
default_value = 0.9

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_yboq2"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(1, 1, 1, 1), 2, Quaternion(0.5, 0.5, 0.5, 0.5)]
linked_parent_graph_frame = 77
op_type = 5

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_houh8"]
linked_parent_graph_frame = 30
input_name = "uv2"

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_6rjy6"]
linked_parent_graph_frame = 77
constant = 1.0

[sub_resource type="VisualShaderNodeProximityFade" id="VisualShaderNodeProximityFade_sw7p3"]
linked_parent_graph_frame = 77

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_xhoq2"]
linked_parent_graph_frame = 77
operator = 2

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_0w0sp"]
size = Vector2(1064.0002, 693)
title = "Opacity"
attached_nodes = PackedInt32Array(66, 64, 74, 75, 76, 140)

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_qrj5e"]
linked_parent_graph_frame = 48
parameter_name = "depth_offset"
hint = 1
default_value_enabled = true
default_value = 0.75

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_qrj5e"]
linked_parent_graph_frame = 123
source = 1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_6rjy6"]
linked_parent_graph_frame = 123
input_name = "screen_uv"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_4rtul"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(0, 0, 0, 0)]
linked_parent_graph_frame = 33
op_type = 2
operator = 2

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_6ioh0"]
op_type = 0

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_e0gxv"]
default_input_values = [0, 0.0, 1, -0.1999999999970896]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_houh8"]
default_input_values = [0, 0.0, 1, -1.0]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_cbafe"]
input_name = "time"

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_t7231"]
parameter_name = "flow_strength"
hint = 1
default_value_enabled = true
default_value = 0.05

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_otd83"]

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_t1out"]
input_name = "uv"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_qrw5p"]
default_input_values = [0, 1.0, 1, 0.0]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_74g4y"]
default_input_values = [0, 0.0, 1, 0.25]
operator = 2

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_v1yl0"]
op_type = 0

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_flajv"]

[resource]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, depth_test_default, cull_back, diffuse_lambert, specular_schlick_ggx;


// Varyings
varying vec2 var_map_001_offset;
varying vec2 var_map_002_offset;
varying vec2 var_map_003_offset;

uniform float flow_strength : hint_range(0.0, 1.0) = 0.05000000074506;
uniform vec4 color_shallow : source_color = vec4(0.639216, 0.717647, 0.768627, 1.000000);
uniform vec4 color_deep : source_color = vec4(0.262745, 0.321569, 0.411765, 1.000000);
uniform float depth_sharpness : hint_range(0.0, 1.0) = 0.10000000149012;
uniform float depth_offset : hint_range(0.0, 1.0) = 0.75;
uniform sampler2D water_A_normal;
uniform sampler2D water_B_normal;
uniform float water_AB_fade : hint_range(0.0, 1.0) = 0.40000000596046;
uniform float normal_strength : hint_range(0.0, 1.0) = 0.5;
uniform float refraction : hint_range(0.0, 1.0) = 0.20000000298023;
uniform sampler2D screen_tex_frg_81 : hint_screen_texture;
uniform float foam_scale : hint_range(0.0, 4.0) = 1.5;
uniform sampler2D foam;
uniform float opacity : hint_range(0.0, 1.0) = 0.89999997615814;
uniform float blend : hint_range(0.0, 1.0) = 0.30000001192093;
uniform sampler2D depth_tex_frg_75 : hint_depth_texture;
uniform float roughness : hint_range(0.0, 1.0) = 0.20000000298023;


// GlobalExpression:0
	uniform sampler2D depth_texture : hint_depth_texture, repeat_disable, filter_nearest;

void vertex() {
// Input:5
	vec2 n_out5p0 = UV;


// FloatParameter:3
	float n_out3p0 = flow_strength;


// FloatOp:12
	float n_in12p1 = -1.00000;
	float n_out12p0 = n_out3p0 * n_in12p1;


// Input:2
	float n_out2p0 = TIME;


// FloatOp:6
	float n_out6p0 = n_out12p0 * n_out2p0;


// VectorCompose:8
	float n_in8p1 = 0.00000;
	vec2 n_out8p0 = vec2(n_out6p0, n_in8p1);


// UVFunc:4
	vec2 n_in4p1 = vec2(1.00000, 1.00000);
	vec2 n_out4p0 = n_out8p0 * n_in4p1 + n_out5p0;


// FloatOp:7
	float n_in7p1 = 0.25000;
	float n_out7p0 = n_out3p0 * n_in7p1;


// FloatOp:11
	float n_out11p0 = n_out7p0 * n_out2p0;


// VectorCompose:10
	float n_in10p1 = 0.00000;
	vec2 n_out10p0 = vec2(n_out11p0, n_in10p1);


// UVFunc:9
	vec2 n_in9p1 = vec2(1.00000, 1.00000);
	vec2 n_out9p0 = n_out10p0 * n_in9p1 + n_out5p0;


// Output:0
	UV = n_out4p0;
	UV2 = n_out9p0;


	var_map_001_offset = vec2(0.0);
	var_map_002_offset = vec2(0.0);
	var_map_003_offset = vec2(0.0);
}

void fragment() {
// ColorParameter:53
	vec4 n_out53p0 = color_shallow;


// ColorParameter:52
	vec4 n_out52p0 = color_deep;


// FloatParameter:42
	float n_out42p0 = depth_sharpness;


// FloatParameter:80
	float n_out80p0 = depth_offset;


	float n_out43p0;
// Expression:43
	n_out43p0 = 0.0;
	{
		float d = texture(depth_texture, SCREEN_UV).r;
		d = PROJECTION_MATRIX[3][2] / (d + PROJECTION_MATRIX[2][2]);
		d = d + VERTEX.z;
		n_out43p0 = d * n_out42p0 + n_out80p0;
	}


// FloatFunc:44
	float n_out44p0 = min(max(n_out43p0, 0.0), 1.0);


// Mix:54
	vec4 n_out54p0 = mix(n_out53p0, n_out52p0, vec4(n_out44p0));


// Input:82
	vec2 n_out82p0 = SCREEN_UV;


// Fresnel:110
	float n_in110p3 = 1.00000;
	float n_out110p0 = pow(clamp(dot(NORMAL, VIEW), 0.0, 1.0), n_in110p3);


// ColorConstant:60
	vec4 n_out60p0 = vec4(0.501961, 0.501961, 1.000000, 1.000000);


// Input:18
	vec2 n_out18p0 = UV;


	vec4 n_out16p0;
// Texture2D:16
	n_out16p0 = texture(water_A_normal, n_out18p0);


// Input:7
	vec2 n_out7p0 = UV2;


	vec4 n_out5p0;
// Texture2D:5
	n_out5p0 = texture(water_B_normal, n_out7p0);


// FloatParameter:21
	float n_out21p0 = water_AB_fade;


// Mix:47
	vec4 n_out47p0 = mix(n_out16p0, n_out5p0, vec4(n_out21p0));


// FloatParameter:28
	float n_out28p0 = normal_strength;


// Mix:59
	vec4 n_out59p0 = mix(n_out60p0, n_out47p0, vec4(n_out28p0));


// FloatFunc:120
	float n_out120p0 = min(max(n_out59p0.x, 0.0), 1.0);


// VectorOp:121
	vec2 n_in121p1 = vec2(0.50000, 0.50000);
	vec2 n_out121p0 = vec2(n_out120p0) - n_in121p1;


// FloatOp:122
	float n_out122p0 = n_out110p0 * n_out121p0.x;


// FloatParameter:142
	float n_out142p0 = refraction;


// FloatOp:141
	float n_out141p0 = n_out122p0 * n_out142p0;


// VectorOp:111
	vec2 n_out111p0 = n_out82p0 + vec2(n_out141p0);


	vec4 n_out81p0;
// Texture2D:81
	n_out81p0 = texture(screen_tex_frg_81, n_out111p0);


// VectorOp:90
	vec4 n_out90p0 = n_out54p0 * n_out81p0;


// Input:127
	vec2 n_out127p0 = UV;


// FloatParameter:138
	float n_out138p0 = foam_scale;


// UVFunc:137
	vec2 n_in137p2 = vec2(0.00000, 0.00000);
	vec2 n_out137p0 = (n_out127p0 - n_in137p2) * vec2(n_out138p0) + n_in137p2;


	vec4 n_out126p0;
// Texture2D:126
	n_out126p0 = texture(foam, n_out137p0);


// FloatFunc:130
	float n_out130p0 = 1.0 - n_out44p0;


// Fresnel:135
	float n_in135p3 = 1.00000;
	float n_out135p0 = pow(1.0 - clamp(dot(NORMAL, VIEW), 0.0, 1.0), n_in135p3);


// FloatOp:134
	float n_out134p0 = n_out130p0 * n_out135p0;


// FloatOp:132
	float n_in132p1 = 8.00000;
	float n_out132p0 = n_out134p0 * n_in132p1;


// FloatFunc:133
	float n_out133p0 = min(max(n_out132p0, 0.0), 1.0);


// VectorDecompose:143
	float n_out143p0 = n_out126p0.x;
	float n_out143p1 = n_out126p0.y;
	float n_out143p2 = n_out126p0.z;
	float n_out143p3 = n_out126p0.w;


// FloatOp:144
	float n_out144p0 = n_out133p0 * n_out143p3;


// Mix:129
	vec3 n_out129p0 = mix(vec3(n_out90p0.xyz), vec3(n_out126p0.xyz), vec3(n_out144p0));


// FloatConstant:74
	float n_out74p0 = 1.000000;


// FloatParameter:64
	float n_out64p0 = opacity;


// Mix:66
	vec4 n_out66p0 = mix(vec4(n_out44p0), vec4(n_out74p0), vec4(n_out64p0));


// FloatParameter:140
	float n_out140p0 = blend;


	float n_out75p0;
// ProximityFade:75
	{
		float __depth_tex = texture(depth_tex_frg_75, SCREEN_UV).r;
		vec4 __depth_world_pos = INV_PROJECTION_MATRIX * vec4(SCREEN_UV * 2.0 - 1.0, __depth_tex, 1.0);
		__depth_world_pos.xyz /= __depth_world_pos.w;
		n_out75p0 = clamp(1.0 - smoothstep(__depth_world_pos.z + n_out140p0, __depth_world_pos.z, VERTEX.z), 0.0, 1.0);
	}


// FloatOp:76
	float n_out76p0 = n_out66p0.x * n_out75p0;


// FloatConstant:10
	float n_out10p0 = 1.000000;


// FloatParameter:61
	float n_out61p0 = roughness;


// Output:0
	ALBEDO = n_out129p0;
	ALPHA = n_out76p0;
	METALLIC = n_out10p0;
	ROUGHNESS = n_out61p0;
	NORMAL_MAP = vec3(n_out59p0.xyz);


}
"
varyings/map_001_offset = "0,3"
varyings/map_002_offset = "0,3"
varyings/map_003_offset = "0,3"
nodes/vertex/0/position = Vector2(60, -480)
nodes/vertex/2/node = SubResource("VisualShaderNodeInput_cbafe")
nodes/vertex/2/position = Vector2(-1760, -160)
nodes/vertex/3/node = SubResource("VisualShaderNodeFloatParameter_t7231")
nodes/vertex/3/position = Vector2(-1940, -540)
nodes/vertex/4/node = SubResource("VisualShaderNodeUVFunc_otd83")
nodes/vertex/4/position = Vector2(-560, -480)
nodes/vertex/5/node = SubResource("VisualShaderNodeInput_t1out")
nodes/vertex/5/position = Vector2(-940, -540)
nodes/vertex/6/node = SubResource("VisualShaderNodeFloatOp_qrw5p")
nodes/vertex/6/position = Vector2(-1060, -400)
nodes/vertex/7/node = SubResource("VisualShaderNodeFloatOp_74g4y")
nodes/vertex/7/position = Vector2(-1540, -340)
nodes/vertex/8/node = SubResource("VisualShaderNodeVectorCompose_v1yl0")
nodes/vertex/8/position = Vector2(-860, -400)
nodes/vertex/9/node = SubResource("VisualShaderNodeUVFunc_flajv")
nodes/vertex/9/position = Vector2(-560, -260)
nodes/vertex/10/node = SubResource("VisualShaderNodeVectorCompose_6ioh0")
nodes/vertex/10/position = Vector2(-860, -220)
nodes/vertex/11/node = SubResource("VisualShaderNodeFloatOp_e0gxv")
nodes/vertex/11/position = Vector2(-1060, -220)
nodes/vertex/12/node = SubResource("VisualShaderNodeFloatOp_houh8")
nodes/vertex/12/position = Vector2(-1540, -500)
nodes/vertex/connections = PackedInt32Array(8, 0, 4, 2, 11, 0, 10, 0, 10, 0, 9, 2, 2, 0, 11, 1, 5, 0, 4, 0, 5, 0, 9, 0, 9, 0, 0, 5, 4, 0, 0, 4, 6, 0, 8, 0, 7, 0, 11, 0, 2, 0, 6, 1, 3, 0, 7, 0, 3, 0, 12, 0, 12, 0, 6, 0)
nodes/fragment/0/position = Vector2(5640, -1320)
nodes/fragment/5/node = SubResource("VisualShaderNodeTexture_4rtul")
nodes/fragment/5/position = Vector2(300, 120)
nodes/fragment/6/node = SubResource("VisualShaderNodeTexture2DParameter_dc7q3")
nodes/fragment/6/position = Vector2(-100, 80)
nodes/fragment/7/node = SubResource("VisualShaderNodeInput_houh8")
nodes/fragment/7/position = Vector2(-100, -40)
nodes/fragment/10/node = SubResource("VisualShaderNodeFloatConstant_qrj5e")
nodes/fragment/10/position = Vector2(5280, -1200)
nodes/fragment/16/node = SubResource("VisualShaderNodeTexture_0w0sp")
nodes/fragment/16/position = Vector2(320, -520)
nodes/fragment/18/node = SubResource("VisualShaderNodeInput_dc7q3")
nodes/fragment/18/position = Vector2(-100, -560)
nodes/fragment/20/node = SubResource("VisualShaderNodeTexture2DParameter_8r7lp")
nodes/fragment/20/position = Vector2(-100, -440)
nodes/fragment/21/node = SubResource("VisualShaderNodeFloatParameter_a8d3b")
nodes/fragment/21/position = Vector2(340, -260)
nodes/fragment/28/node = SubResource("VisualShaderNodeFloatParameter_cbafe")
nodes/fragment/28/position = Vector2(840, 80)
nodes/fragment/30/node = SubResource("VisualShaderNodeFrame_otd83")
nodes/fragment/30/position = Vector2(-140, -600)
nodes/fragment/33/node = SubResource("VisualShaderNodeFrame_74g4y")
nodes/fragment/33/position = Vector2(1620, -2000)
nodes/fragment/42/node = SubResource("VisualShaderNodeFloatParameter_flajv")
nodes/fragment/42/position = Vector2(120, -2460)
nodes/fragment/43/node = SubResource("VisualShaderNodeExpression_l122e")
nodes/fragment/43/position = Vector2(420, -2360)
nodes/fragment/43/size = Vector2(720, 340)
nodes/fragment/43/input_ports = "0,0,power;1,0,offset;"
nodes/fragment/43/output_ports = "0,0,depth;"
nodes/fragment/43/expression = "float d = texture(depth_texture, SCREEN_UV).r;
d = PROJECTION_MATRIX[3][2] / (d + PROJECTION_MATRIX[2][2]);
d = d + VERTEX.z;
depth = d * power + offset;"
nodes/fragment/44/node = SubResource("VisualShaderNodeFloatFunc_lxyh5")
nodes/fragment/44/position = Vector2(1180, -2400)
nodes/fragment/45/node = SubResource("VisualShaderNodeGlobalExpression_nmsma")
nodes/fragment/45/position = Vector2(420, -2480)
nodes/fragment/45/size = Vector2(720, 100)
nodes/fragment/45/input_ports = ""
nodes/fragment/45/output_ports = ""
nodes/fragment/45/expression = "uniform sampler2D depth_texture : hint_depth_texture, repeat_disable, filter_nearest;"
nodes/fragment/47/node = SubResource("VisualShaderNodeMix_14ohn")
nodes/fragment/47/position = Vector2(800, -260)
nodes/fragment/48/node = SubResource("VisualShaderNodeFrame_4tpem")
nodes/fragment/48/position = Vector2(80, -2520)
nodes/fragment/52/node = SubResource("VisualShaderNodeColorParameter_nxns6")
nodes/fragment/52/position = Vector2(1740, -1660)
nodes/fragment/53/node = SubResource("VisualShaderNodeColorParameter_pkdrg")
nodes/fragment/53/position = Vector2(1740, -1420)
nodes/fragment/54/node = SubResource("VisualShaderNodeMix_newio")
nodes/fragment/54/position = Vector2(2120, -1520)
nodes/fragment/59/node = SubResource("VisualShaderNodeMix_ge0wp")
nodes/fragment/59/position = Vector2(1320, -260)
nodes/fragment/60/node = SubResource("VisualShaderNodeColorConstant_6ee50")
nodes/fragment/60/position = Vector2(1020, -120)
nodes/fragment/61/node = SubResource("VisualShaderNodeFloatParameter_5vpu5")
nodes/fragment/61/position = Vector2(5260, -1060)
nodes/fragment/64/node = SubResource("VisualShaderNodeFloatParameter_gxx5n")
nodes/fragment/64/position = Vector2(2720, -2740)
nodes/fragment/66/node = SubResource("VisualShaderNodeMix_yboq2")
nodes/fragment/66/position = Vector2(3260, -2980)
nodes/fragment/74/node = SubResource("VisualShaderNodeFloatConstant_6rjy6")
nodes/fragment/74/position = Vector2(2920, -2880)
nodes/fragment/75/node = SubResource("VisualShaderNodeProximityFade_sw7p3")
nodes/fragment/75/position = Vector2(3300, -2740)
nodes/fragment/76/node = SubResource("VisualShaderNodeFloatOp_xhoq2")
nodes/fragment/76/position = Vector2(3540, -2860)
nodes/fragment/77/node = SubResource("VisualShaderNodeFrame_0w0sp")
nodes/fragment/77/position = Vector2(2680, -3020)
nodes/fragment/80/node = SubResource("VisualShaderNodeFloatParameter_qrj5e")
nodes/fragment/80/position = Vector2(120, -2140)
nodes/fragment/81/node = SubResource("VisualShaderNodeTexture_qrj5e")
nodes/fragment/81/position = Vector2(2820, -1100)
nodes/fragment/82/node = SubResource("VisualShaderNodeInput_6rjy6")
nodes/fragment/82/position = Vector2(2060, -1060)
nodes/fragment/90/node = SubResource("VisualShaderNodeVectorOp_4rtul")
nodes/fragment/90/position = Vector2(3260, -1220)
nodes/fragment/110/node = SubResource("VisualShaderNodeFresnel_qrj5e")
nodes/fragment/110/position = Vector2(1700, -1040)
nodes/fragment/111/node = SubResource("VisualShaderNodeVectorOp_6rjy6")
nodes/fragment/111/position = Vector2(2600, -1100)
nodes/fragment/120/node = SubResource("VisualShaderNodeFloatFunc_sw7p3")
nodes/fragment/120/position = Vector2(1700, -780)
nodes/fragment/121/node = SubResource("VisualShaderNodeVectorOp_xhoq2")
nodes/fragment/121/position = Vector2(1920, -780)
nodes/fragment/122/node = SubResource("VisualShaderNodeFloatOp_0w0sp")
nodes/fragment/122/position = Vector2(2160, -920)
nodes/fragment/123/node = SubResource("VisualShaderNodeFrame_4rtul")
nodes/fragment/123/position = Vector2(1660, -1100)
nodes/fragment/124/node = SubResource("VisualShaderNodeFrame_dc7q3")
nodes/fragment/124/position = Vector2(1700, -1700)
nodes/fragment/125/node = SubResource("VisualShaderNodeTexture2DParameter_houh8")
nodes/fragment/125/position = Vector2(3480, -1900)
nodes/fragment/126/node = SubResource("VisualShaderNodeTexture_8r7lp")
nodes/fragment/126/position = Vector2(3880, -1980)
nodes/fragment/127/node = SubResource("VisualShaderNodeInput_a8d3b")
nodes/fragment/127/position = Vector2(3040, -2120)
nodes/fragment/129/node = SubResource("VisualShaderNodeMix_6ioh0")
nodes/fragment/129/position = Vector2(4700, -1260)
nodes/fragment/130/node = SubResource("VisualShaderNodeFloatFunc_e0gxv")
nodes/fragment/130/position = Vector2(2880, -1660)
nodes/fragment/132/node = SubResource("VisualShaderNodeFloatOp_qrj5e")
nodes/fragment/132/position = Vector2(3360, -1540)
nodes/fragment/133/node = SubResource("VisualShaderNodeFloatFunc_6rjy6")
nodes/fragment/133/position = Vector2(3640, -1520)
nodes/fragment/134/node = SubResource("VisualShaderNodeFloatOp_sw7p3")
nodes/fragment/134/position = Vector2(3120, -1640)
nodes/fragment/135/node = SubResource("VisualShaderNodeFresnel_xhoq2")
nodes/fragment/135/position = Vector2(2820, -1520)
nodes/fragment/136/node = SubResource("VisualShaderNodeFrame_houh8")
nodes/fragment/136/position = Vector2(2780, -2160)
nodes/fragment/137/node = SubResource("VisualShaderNodeUVFunc_8r7lp")
nodes/fragment/137/position = Vector2(3560, -2120)
nodes/fragment/138/node = SubResource("VisualShaderNodeFloatParameter_6ioh0")
nodes/fragment/138/position = Vector2(3180, -1980)
nodes/fragment/140/node = SubResource("VisualShaderNodeFloatParameter_e0gxv")
nodes/fragment/140/position = Vector2(3020, -2660)
nodes/fragment/141/node = SubResource("VisualShaderNodeFloatOp_cbafe")
nodes/fragment/141/position = Vector2(2498.8884, -844.58527)
nodes/fragment/142/node = SubResource("VisualShaderNodeFloatParameter_otd83")
nodes/fragment/142/position = Vector2(2160, -720)
nodes/fragment/143/node = SubResource("VisualShaderNodeVectorDecompose_t1out")
nodes/fragment/143/position = Vector2(4160, -2040)
nodes/fragment/144/node = SubResource("VisualShaderNodeFloatOp_v1yl0")
nodes/fragment/144/position = Vector2(4400, -1720)
nodes/fragment/connections = PackedInt32Array(6, 0, 5, 2, 20, 0, 16, 2, 42, 0, 43, 0, 43, 0, 44, 0, 16, 0, 47, 0, 5, 0, 47, 1, 21, 0, 47, 2, 52, 0, 54, 1, 53, 0, 54, 0, 28, 0, 59, 2, 60, 0, 59, 0, 47, 0, 59, 1, 18, 0, 16, 0, 7, 0, 5, 0, 64, 0, 66, 2, 66, 0, 76, 0, 75, 0, 76, 1, 74, 0, 66, 1, 44, 0, 66, 0, 44, 0, 54, 2, 54, 0, 90, 0, 82, 0, 111, 0, 111, 0, 81, 0, 59, 0, 120, 0, 110, 0, 122, 0, 120, 0, 121, 0, 121, 0, 122, 1, 125, 0, 126, 2, 44, 0, 130, 0, 80, 0, 43, 1, 135, 0, 134, 1, 134, 0, 132, 0, 130, 0, 134, 0, 132, 0, 133, 0, 138, 0, 137, 1, 137, 0, 126, 0, 140, 0, 75, 0, 122, 0, 141, 0, 141, 0, 111, 1, 142, 0, 141, 1, 59, 0, 0, 9, 61, 0, 0, 3, 10, 0, 0, 2, 129, 0, 0, 0, 76, 0, 0, 1, 81, 0, 90, 1, 90, 0, 129, 0, 126, 0, 143, 0, 133, 0, 144, 0, 143, 3, 144, 1, 126, 0, 129, 1, 144, 0, 129, 2, 127, 0, 137, 0)
